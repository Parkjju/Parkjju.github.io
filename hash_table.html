<!DOCTYPE html>
<html lang="kr">
  <head>
    <head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- CSS only -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
    rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
    crossorigin="anonymous"
  />
  <link href="/assets/CSS/style.css" rel="stylesheet" />
  <title>Parkjju's TIL</title>
</head>

  </head>

  <body>
    <div class="main_bar">
  <p class="main_bar--title"><a href="/">Parkjju's Today I Learned</a></p>

  <div class="main_bar--right">
    <!-- 검색창 -->
    <form action="" method="get" class="search-box">
      <i class="fas fa-search"></i>
      <input class="search-form" type="text" autocomplete="off" />
    </form>

    <!-- 링크버튼 -->
    <div
      class="main_bar--link"
      onclick="window.open('https://github.com/Parkjju')"
    >
      <p>Github</p>
      <i class="fas fa-external-link-alt"></i>
    </div>
  </div>
</div>
 <div class="menu-bar">
  <ul>
    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse5"
        aria-expanded="false"
        aria-controls="collapse5"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Computer Science</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse5">
      <div class="card card-body">
        <a href="./docker" target="_self">Docker란?</a>
      </div>
      <div class="card card-body">
        <a href="./domain" target="_self">Domain이란</a>
      </div>
      <div class="card card-body">
        <a href="./serverless" target="_self">Serverless</a>
      </div>
      <div class="card card-body">
        <a href="./library" target="_self">library vs framework</a>
      </div>
      <div class="card card-body">
        <a href="./api" target="_self">API 란?</a>
      </div>
      <div class="card card-body">
        <a href="./devops" target="_self">devops 정리</a>
      </div>
      <div class="card card-body">
        <a href="./web_request" target="_self">web요청과 응답과정</a>
      </div>
      <div class="card card-body">
        <a href="./block-chain" target="_self"
          >nomad coders 블록체인 시리즈 총정리</a
        >
      </div>
      <div class="card card-body">
        <a href="./begin" target="_self">coursera series - Digital Logic</a>
      </div>
      <div class="card card-body">
        <a href="./Module-Introduction" target="_self"
          >coursera series - Hardware</a
        >
      </div>
      <div class="card card-body">
        <a href="./OS" target="_self">coursera series - OS</a>
      </div>
      <div class="card card-body">
        <a href="./networking" target="_self">coursera series - networking</a>
      </div>
      <div class="card card-body">
        <a href="./software" target="_self">coursera series - software</a>
      </div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse2"
        aria-expanded="false"
        aria-controls="collapse2"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Algorithm</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse2">
      <div class="card card-body">
        <a href="./shortest" target="_self">
          Bellman Ford & Dijkstra 최단경로 알고리즘
        </a>
      </div>
      <div class="card card-body">
        <a href="./all-to-all" target="_self">all-to-all 최단경로 </a>
      </div>
      <div class="card card-body">
        <a href="./Recursion" target="_self"> Recursion 재귀 </a>
      </div>
      <div class="card card-body">
        <a href="./selection" target="_self"
          >선택문제 - k번째로 작은 수, Quickselection & MoM
        </a>
      </div>
      <div class="card card-body">
        <a href="./mom" target="_self"
          >MOM - Median of Medians 알고리즘 설명 + 수행시간
        </a>
      </div>
      <div class="card card-body">
        <a href="./divide" target="_self"
          >Divide and Conquer 알고리즘 설명 & 예시
        </a>
      </div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse3"
        aria-expanded="false"
        aria-controls="collapse3"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Data structure</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse3">
      <div class="card card-body">
        <a href="./data_structure" target="_self">자료구조의 이해 </a>
        <a href="./sequential_structure" target="_self">선형 자료구조 </a>
        <a href="./hash_table" target="_self">해시 테이블 자료구조 </a>
        <a href="./stack_cal" target="_self"
          >스택을 이용하여 계산기 구현하기
        </a>
        <a href="./SinglyLinkedList" target="_self"
          >한 방향 연결리스트 연산 구현
        </a>
        <a href="./doublyLinkedList" target="_self"
          >양 방향 연결리스트 연산 구현
        </a>
        <a href="./pydict" target="_self">파이썬의 딕셔너리 작동방식 </a>
        <a href="./tree" target="_self">트리 자료구조 </a>
        <a href="./open_addressing" target="_self"
          >해시테이블 open addressing 실습
        </a>
        <a href="./heap" target="_self">heap 자료구조 </a>
        <a href="./union-find" target="_self">union find 자료구조 </a>
        <a href="./graph" target="_self">graph 자료구조 </a>
      </div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse4"
        aria-expanded="false"
        aria-controls="collapse4"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Python</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse4">
      <li class="sidebar-group" role="menuitem">
        <p
          class="sidebar-heading"
          data-bs-toggle="collapse"
          href="#pythonNewbie"
          aria-expanded="false"
          aria-controls="pythonNewbie"
          onclick="rotate(this)"
        >
          <span class="sidebar-heading--name">Python 초급</span>
          <!-- <i class="fas fa-caret-right fa-xs"></i> -->
        </p>
      </li>
      <div class="collapse" id="pythonNewbie">
        <div class="card card-body">
          <a href="./functions" target="_self">입출력과 변수 </a>
        </div>
        <div class="card card-body">
          <a href="./input_and_print" target="_self">간단한 함수 만들기 </a>
        </div>
        <div class="card card-body">
          <a href="./input_loop" target="_self"
            >프로그램 사용자로부터 입력받기 + 코드의 반복
          </a>
        </div>
        <div class="card card-body">
          <a href="./int_float_data" target="_self"
            >int형 데이터와 float형 데이터
          </a>
        </div>
        <div class="card card-body">
          <a href="./list_string" target="_self">리스트와 문자열 </a>
        </div>
        <div class="card card-body">
          <a href="./list_function" target="_self">리스트와 문자열의 함수들 </a>
        </div>
        <div class="card card-body">
          <a href="./TF" target="_self">True,False, if문과 형제들 </a>
        </div>
        <div class="card card-body">
          <a href="./for_while_loop" target="_self">while, 이중 for루프 </a>
        </div>
        <div class="card card-body">
          <a href="./tuple_range" target="_self">튜플과 레인지 </a>
        </div>
        <div class="card card-body">
          <a href="./functions_add" target="_self"
            >함수에 대한 추가적인 설명 - 디폴트값 등
          </a>
        </div>
        <div class="card card-body">
          <a href="./modules" target="_self">모듈(Modules) </a>
        </div>
        <div class="card card-body">
          <a href="./dictionary" target="_self">딕셔너리(Dictionary) </a>
        </div>
        <div class="card card-body">
          <a href="./class" target="_self">클래스와 객체 </a>
        </div>
        <div class="card card-body">
          <a href="./unexpect" target="_self">예외처리</a>
        </div>
      </div>
      <li class="sidebar-group" role="menuitem">
        <p
          class="sidebar-heading"
          data-bs-toggle="collapse"
          href="#pythonUser"
          aria-expanded="false"
          aria-controls="pythonUser"
          onclick="rotate(this)"
        >
          <span class="sidebar-heading--name">Python 중급</span>
          <!-- <i class="fas fa-caret-right fa-xs"></i> -->
        </p>
      </li>
      <div class="collapse" id="pythonUser">
        <div class="card card-body">
          <a href="./reference_count_garbage_collection" target="_self"
            >레퍼런스 카운트와 가비지 컬렉션
          </a>
        </div>
        <div class="card card-body">
          <a href="./immutable_mutable" target="_self"
            >수정 가능한 객체와 수정 불가능한 객체
          </a>
        </div>
        <div class="card card-body">
          <a href="./deep_shallow_copy" target="_self"
            >깊은 복사와 얕은 복사
          </a>
        </div>
        <div class="card card-body">
          <a href="./hide_dict" target="_self">정보 은닉과 dict</a>
        </div>
        <div class="card card-body">
          <a href="./property" target="_self">프로퍼티</a>
        </div>
        <div class="card card-body">
          <a href="./slots" target="_self">슬롯</a>
        </div>
        <div class="card card-body">
          <a href="./list_comprehension" target="_self">리스트 컴프리헨션</a>
        </div>
        <div class="card card-body">
          <a href="./iterable_iterator" target="_self"
            >Iterable 객체와 Iterator 객체</a
          >
        </div>
        <div class="card card-body">
          <a href="./lambda" target="_self"
            >객체처럼 다뤄지는 함수 그리고 람다</a
          >
        </div>
        <div class="card card-body">
          <a href="./map_and_filter" target="_self">map&filter</a>
        </div>
        <div class="card card-body">
          <a href="./func_comprehension" target="_self"
            >map&filter를 대신하는 리스트 컴프리헨션</a
          >
        </div>
        <div class="card card-body">
          <a href="./generator" target="_self">generator 함수</a>
        </div>
        <div class="card card-body">
          <a href="./generator_expression" target="_self"
            >generator expression</a
          >
        </div>
        <div class="card card-body">
          <a href="./tuple_packing" target="_self">튜플의 패킹과 언패킹</a>
        </div>
        <div class="card card-body">
          <a href="./named_tuple" target="_self">네임드 튜플</a>
        </div>
        <div class="card card-body">
          <a href="./prod_dict" target="_self">dict의 생성과 zip</a>
        </div>
        <div class="card card-body">
          <a href="./dict_lupin" target="_self"
            >dict의 루핑 기술과 컴프리헨션</a
          >
        </div>
        <div class="card card-body">
          <a href="./func_star_rule" target="_self"
            >함수 호출과 매개변수 선언에 있어서 *과 **의 사용규칙</a
          >
        </div>
        <div class="card card-body">
          <a href="./dict_defaultdict" target="_self">dict & defaultdict</a>
        </div>
        <div class="card card-body">
          <a href="./ordered_dict" target="_self">dict & OrderedDict</a>
        </div>
        <div class="card card-body">
          <a href="./set_frozenset" target="_self"
            >자료형 분류와 set&frozenset</a
          >
        </div>
        <div class="card card-body">
          <a href="./sort" target="_self">정렬 기술</a>
        </div>
        <div class="card card-body">
          <a href="./enumerate" target="_self">enumerate과 문자열 비교</a>
        </div>
        <div class="card card-body">
          <a href="./expression_comb" target="_self">표현식 기반 문자열 조합</a>
        </div>
        <div class="card card-body">
          <a href="./method_str" target="_self">메소드 기반 문자열 조합</a>
        </div>
        <div class="card card-body">
          <a href="./class_obj" target="_self">클래스와 객체의 본질</a>
        </div>
        <div class="card card-body">
          <a href="./inheritance" target="_self">상속</a>
        </div>
        <div class="card card-body">
          <a href="./isinstance" target="_self"
            >isinstance함수와 object클래스</a
          >
        </div>
        <div class="card card-body">
          <a href="./special_method" target="_self">스페셜 메소드</a>
        </div>
        <div class="card card-body">
          <a href="./operator_overload" target="_self">연산자 오버로딩</a>
        </div>
        <div class="card card-body">
          <a href="./nested_func" target="_self">네스티드 함수와 클로저</a>
        </div>
        <div class="card card-body">
          <a href="./decorator" target="_self">데코레이터</a>
        </div>
        <div class="card card-body">
          <a href="./class_method" target="_self"
            >클래스 메소드와 static 메소드</a
          >
        </div>
        <div class="card card-body">
          <a href="./name_main" target="_self">__name__ & __main__</a>
        </div>
      </div>
      <li class="sidebar-group" role="menuitem">
        <p
          class="sidebar-heading"
          data-bs-toggle="collapse"
          href="#pythonAdditional"
          aria-expanded="false"
          aria-controls="pythonAdditional"
          onclick="rotate(this)"
        >
          <span class="sidebar-heading--name">Python 추가 내용</span>
          <!-- <i class="fas fa-caret-right fa-xs"></i> -->
        </p>
      </li>
      <div class="collapse" id="pythonAdditional">
        <div class="card card-body">
          <a href="./dataframe" target="_self">Python 데이터 프레임 </a>
        </div>
        <div class="card card-body">
          <a href="./sqlAlchemy" target="_self"
            >Python SQL alchemy를 통해 mysql 연동하기
          </a>
        </div>
        <div class="card card-body">
          <a href="./join" target="_self"
            >Python 문자열 자르고 합치기 - join, split함수</a
          >
        </div>
        <div class="card card-body">
          <a href="./getitem" target="_self"
            >Python getitem, setitem 스페셜메소드</a
          >
        </div>
        <div class="card card-body">
          <a href="./pylance" target="_self"
            >Pylance Unresolved import warnings 트러블슈팅</a
          >
        </div>
        <div class="card card-body">
          <a href="./django-css" target="_self"
            >Python django - How to add css to django application</a
          >
        </div>
      </div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse6"
        aria-expanded="false"
        aria-controls="collapse6"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">CSS</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse6">
      <div class="card card-body">
        <a href="./CSS_begin" target="_self"
          >CSS 기초 - block ~ Selector, state</a
        >
      </div>
      <div class="card card-body">
        <a href="./CSS_Advanced" target="_self"
          >CSS Transition, transform, animation</a
        >
      </div>
      <div class="card card-body">
        <a href="./CSS_additional" target="_self"
          >CSS Icon, Block Element Modifier, Font</a
        >
      </div>
      <div class="card card-body">
        <a href="./resetCSS" target="_self">reset CSS</a>
      </div>
      <div class="card card-body">
        <a href="./cssbox" target="_self"
          >CSS box, text-transformation, z-index, flex-children,
          forwards-animation, will change</a
        >
      </div>
      <div class="card card-body">
        <a href="./textarea" target="_self"
          >CSS autocomplete, textarea resize, div에 onclick줘서 링크걸기</a
        >
      </div>
      <div class="card card-body">
        <a href="./bootstrap" target="_self"
          >bootstrap 요소 클래스이름 충돌 관련 이슈 정리</a
        >
      </div>
      <div class="card card-body">
        <a href="./collapse" target="_self">bootstrap collapse이용하기</a>
      </div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse7"
        aria-expanded="false"
        aria-controls="collapse7"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Git</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse7">
      <div class="card card-body">Hello</div>
      <div class="card card-body">Hello2</div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse8"
        aria-expanded="false"
        aria-controls="collapse8"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Git</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse8">
      <div class="card card-body">Hello</div>
      <div class="card card-body">Hello2</div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse9"
        aria-expanded="false"
        aria-controls="collapse9"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">Git</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse9">
      <div class="card card-body">Hello</div>
      <div class="card card-body">Hello2</div>
    </div>

    <li class="sidebar-group" role="menuitem">
      <p
        class="sidebar-heading"
        data-bs-toggle="collapse"
        href="#collapse10"
        aria-expanded="false"
        aria-controls="collapse10"
        onclick="rotate(this)"
      >
        <span class="sidebar-heading--name">HUFS 모각코 기록</span>
        <i class="fas fa-caret-right fa-xs"></i>
      </p>
    </li>
    <div class="collapse" id="collapse10">
      <div class="card card-body">
        <a href="./design" target="_self">2021.07 week2 </a>
      </div>
    </div>
  </ul>
</div>
 
    <main class="main-post">
  <h1 class="main-post--title">해시 테이블 (Hash Table)</h1>
  <div class="line"></div>
  <section class="main-post--content"><ul>
  <li>해시 테이블은 일종의 사전(dictionary)이고, Python의 dict 자료구조처럼 insert, remove, search 연산을 빠르게 지원한다</li>
  <li>
    <p>(데이터 item이 key&amp;value쌍으로 구성된다고 가정)</p>

    <ol>
      <li>insert(key,value) -&gt; (key, value)를 해시 테이블에 저장, 같은 key가 있으면 overwrite</li>
      <li>remove(key) -&gt; (key,value)가 해시 테이블에 있으면 삭제</li>
      <li>search(key) -&gt; (key,value)찾아서 리턴</li>
    </ol>
  </li>
  <li>
    <p>사용 분야 - database, compilers&amp;interpreters, document similarity, network router, substring search, file/directory synchronization, <strong>cryptography</strong> …. 매우 중요</p>
  </li>
  <li><strong>예시</strong></li>
</ul>

<ol>
  <li>key값이 학번이고, value가 이름인 item이 있다고 가정</li>
  <li>key를 10으로 나눈 나머지를 인덱스로 하는 장소에 value를 저장한다.</li>
  <li>201701342를 10으로 나눈 나머지 -&gt; 인덱스 2에 value를 저장.</li>
  <li>이후 원하는 연산 진행 시 key 탐색에 있어서 <strong>key를 10으로 나눈 나머지에 대한 연산만 진행하면 된다</strong></li>
</ol>

<ul>
  <li>
    <p>위의 예시에서 볼 수 있듯, key값을 key값이 저장될 index로의 mapping을 진행해주는 function을 <strong>해시 함수(hash function)이라고 한다.</strong></p>
  </li>
  <li>
    <p><strong>collision</strong>?</p>
  </li>
  <li>
    <p>구현되어 있는 hash function을 통해 특정 index에 접근을 시도하는데, 이미 다른 item이 저장되어 있었다면 이를 충돌(collision)이 발생했다고 한다.</p>
  </li>
  <li>
    <p>이를 해결하는 방법을 <strong>충돌해결방법(collision resolution method)라고한다.</strong></p>
  </li>
</ul>

<h3 id="위의-내용까지-정리">위의 내용까지 정리</h3>

<ol>
  <li>Table은 기본적으로 List로 구현된다.</li>
  <li>Hash function에 대한 결정</li>
  <li>Collision resolution method 구현에 대하여</li>
</ol>

<ul>
  <li>해시 테이블은 2,3번이 잘 구현되어 있는지 여부에 따라 전체적인 성능이 결정된다.</li>
</ul>

<h3 id="해시-함수hash-function">해시 함수(hash function)</h3>

<ul>
  <li>좋은 hash function?
    <ol>
      <li>less collision</li>
      <li>fast computation</li>
    </ol>
  </li>
  <li>이 둘은 어느 정도 trade-off한 부분이 있기 때문에 적절히 두 비율을 조정해야함</li>
</ul>

<ol>
  <li>perfect hash function : key -&gt; slot에 1대1로 대응 되는 것. <strong>(ideal hash function) -&gt; 비현실적</strong></li>
  <li>universal hash function?
    <ul>
      <li>각각 x, y key값을 가지는 item이 있다고 가정. Prob(f(x)==f(y))은 collision이 발생할 확률이며 슬롯의 개수를 m이라고 가정하면 universal hash function은 <strong>Prob(f(x)==f(y))= 1/m</strong> 을 만족해야한다.</li>
      <li>확률을 1/m 으로 설계하는 것도 어려움</li>
    </ul>
  </li>
  <li>c-universal hash function : universal hash function의 collision확률이 <strong>c/m</strong>인 hash function</li>
</ol>

<h3 id="현실에서-자주-쓰이는-해시-함수들">현실에서 자주 쓰이는 해시 함수들</h3>

<ol>
  <li>
    <p>Division : f(k) = (k mod p) mod m (p는 소수)</p>
  </li>
  <li>
    <p>Multiplication : f(k) = (ak) mod 2^w) » (w-r)</p>

    <ul>
      <li>a:랜덤 값, w = log(r), r = log(m)</li>
    </ul>
  </li>
  <li>
    <p>Folding : key값의 digit을 나눠 연산하는 형식</p>

    <ol>
      <li>shift folding 예시 ) 계좌번호 - 1234-567-890을 두 digit씩 나누어 모두 더한 후 mod m. (12+34+56+78+90) mod m</li>
      <li>boundary folding : 여러 digit으로 나눈 후 더하는 데, 짝수번 조각은 거꾸로 해서 더함
        <ul>
          <li>12+<strong>43</strong>+56+<strong>87</strong>+90 mod m</li>
        </ul>
      </li>
    </ol>
  </li>
  <li>
    <p>Mid-Square : key값을 적당히 연산 후 그 결과의 중간 부분을 떼어내 주소로 이용</p>

    <ul>
      <li>m=1000이라고 가정, key=3121일 때 key^2 = 97<strong>406</strong>41의 중간 digit 406을 주소로 이용</li>
    </ul>
  </li>
  <li>
    <p>Extraction : key 값의 각 파트마다 임의의 digit을 떼어내 연결하여 계산</p>
    <ul>
      <li>계좌번호가 1234-567-890이면, 1234에서 12, 567에서 7을 떼어내 <strong>127</strong>을 주소로 만듦.</li>
    </ul>
  </li>
</ol>

<h3 id="현실에서-자주-쓰이는-해시-함수들---key값이-문자열일-때">현실에서 자주 쓰이는 해시 함수들 - key값이 문자열일 때</h3>

<ol>
  <li>Additive hash : key[i]의 단순 합 - ASCII값</li>
  <li>Rotating hash : «,» 비트쉬프트 연산과 ^(exclusive or)연산을 적당히 반복</li>
  <li>Universal hash
    <ul>
      <li>Bernstein hash</li>
      <li>C++ STLPort 4.6.2 hash</li>
      <li>java.lang.String.hashCode()</li>
    </ul>
  </li>
</ol>

<!-- Todo: hash function들 실습해보기 -->

<h3 id="충돌회피방법collision-resolution-method---open-addressing-chaining">충돌회피방법(Collision resolution method) - open addressing, Chaining</h3>

<ul>
  <li>
    <p>open addressing - 충돌이 발생하면 주위의 빈 슬롯을 살펴본다.</p>

    <ol>
      <li>linear probing</li>
      <li>quadratic probing</li>
      <li>double hashing</li>
    </ol>
  </li>
  <li>
    <p>chaining</p>
  </li>
</ul>

<h5 id="open-addressing---linear-probing">open addressing - linear probing?</h5>

<ul>
  <li>충돌이 발생하면 바로 다음 슬롯을 살피고, 또 충돌이 발생하면 계속해서 다음 슬롯을 살핌</li>
  <li>
    <p>빈칸이 생기면 그곳에 데이터 저장 (처음과 끝이 연결되어 있다고 생각, 마지막 슬롯에서 충돌이 발생하면 처음 슬롯부터 다시 탐색)</p>
  </li>
  <li>
    <p><strong>cluster?</strong> -&gt; 군집된 데이터들</p>
  </li>
  <li>
    <p>search 메소드 구현의 경우 - 충돌 발생 이후 cluster 전체를 훑어도 key값을 찾지 못한 상태 -&gt; 빈 슬롯을 search 하였다면 linear probing에 따라 저장되는 데이터인데 빈 슬롯에도 저장되어 있지 않았으므로 해당 key값을 가진 데이터는 없다고 판단.</p>
  </li>
  <li>
    <p>set(insert역할) 메소드 구현의 경우 - set(key,value=None):</p>

    <ol>
      <li>key값이 해시 테이블에 <strong>있으면</strong> value를 Update</li>
      <li>key값이 해시 테이블에 <strong>없으면</strong> (key, value)를 insert</li>
    </ol>
  </li>
  <li>remove(key) -&gt; 해시 테이블에 key있으면 value 삭제</li>
</ul>

<h6 id="set-search-remove-연산">set, search, remove 연산</h6>

<ul>
  <li>
    <p>find-slot(key) 함수 정의가 선행되어야 함</p>

    <ol>
      <li>key값이 있으면 slot 번호 리턴</li>
      <li>key값이 없으면 key값이 삽입될 slot 번호 리턴</li>
    </ol>
  </li>
</ul>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>i = hash_function(key)
start = i
while (table[i] == occupied) and (table[i].key !=key) # occupied -&gt; slot에 공간이 차있음
    i = (i+1)%m
    if i == start : return FULL # 테이블 전체가 꽉 차있음
return i
</code></pre></div></div>

<ul>
  <li>
    <p>set(key, value=None):</p>

    <ol>
      <li>find-slot 호출</li>
      <li>find-slot이 return한 값이 FULL이면, <strong>table 사이즈를 키워야함</strong></li>
      <li>find-slot이 return한 값의 슬롯에 value가 저장되어 있었으면 (is.occupied), value값 update</li>
      <li>find-slot이 return한 값의 슬롯이 비어있으면, table[i].key, table[i].value = key, value</li>
      <li>return key -&gt; 성공적으로 set을 진행하였다는 표시</li>
    </ol>
  </li>
  <li>
    <p>search(key)</p>

    <ul>
      <li>전체적인 흐름은 set과 유사함</li>
    </ul>
  </li>
  <li>
    <p>remove연산</p>

    <ul>
      <li>remove진행 후에, 빈 슬롯으로 그대로 두면 <strong>탐색의 고리가 끊어짐</strong></li>
      <li>remove 이후 cluster 당겨주는 작업은 <strong>key가 밀린 상태인지에 대한 test가 필요하다</strong></li>
      <li>해당 작업을 연속된 빈칸이 등장할때까지 진행한다.</li>
      <li>
        <p>즉, k = f(table[j].key) - k는 테이블 j번째 키값의 해시함수 결과 &amp; 빈칸이 i번째에 존재 - 에서, k에 있어야할 table[j].key가 밀려서 j에 있다면 해당 key를 빈칸으로 옮겨줘야한다.</p>
      </li>
      <li>i, k, j의 관계식 (j는 옮겨야하는 slot, k는 hash function의 결과 – 원래 있어야 하는 자리, i는 빈칸)
        <ol>
          <li>k &lt; i &lt;= j</li>
          <li>i &lt; j &lt; k</li>
          <li>j &lt; k &lt; i</li>
        </ol>
      </li>
    </ul>
  </li>
</ul>

<p><img src="/assets/images/kjh.jpg" width="30%" height="30%" /></p>

<div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code># pseudo code
remove(key):
    i = find_slot(key)
    if table[i] is unoccupied:
        return None
    j = i  //table[i] :빈 슬롯, table[j] : 옮겨야할 슬롯
    while True:
        table[i] = None
        while True: # 이사할 table[j] 찾기
            j = (j+1)%m
            if table[j] is unoccupied: # 연속된 빈칸의 등장
                return key # 성공적으로 remove 후 빈칸 채움까지 완료하였다는 표시
            k = hash_function(table[j].key)
            if (k &lt; i &lt;= j): # k, i, j 세 가지 조건에 따라 모두 검사해야함.
                break
        table[i] = table[j]
        i=j
</code></pre></div></div>

<ul>
  <li>linear probing의 성능 좌우하는 부분? -&gt; <strong>cluster의 길이에 비례함</strong> -&gt; <strong>hash function이 어느 정도로 cluster를 형성하지 않고 분산되게 데이터를 저장하였는가?</strong></li>
</ul>

<!-- Todo remove, search, set 연산 구현해보기 -->

<h5 id="open-addressing---quadratic-probing-제곱의-인덱스-double-hashing-hash-function을-두개-사용">open addressing - quadratic probing (제곱의 인덱스), double hashing (hash function을 두개 사용)</h5>

<ul>
  <li>
    <p><strong>quadratic probing</strong> -&gt; 기존 linear probing에서 슬롯 search를 진행할 때, 해당 슬롯이 occupied 되어있으면 한 칸씩 건너뛰었다.</p>

    <ul>
      <li>quadratic probing에서는 k번째 슬롯이 occupied 되어있었다면, k+<strong>n^2</strong>만큼 건너뛴다.</li>
    </ul>
  </li>
  <li>
    <p><strong>double hashing</strong> -&gt; hashfunction을 두개 사용함.</p>
    <ul>
      <li>k번째 슬롯이 occupied되어있었다면, 기존 f hash function에 key값을 대입하여 새로운 slot을 찾는다.</li>
      <li>그럼에도 해당 슬롯이 occupied 되어있다면, 그 다음 빈 슬롯을 찾기 위해 <strong>또 다른 hashfunction을 정의하여, f(key) + g(key) 슬롯을 찾는다.</strong></li>
      <li>그럼에도 해당 슬롯이 occupied 되어있다면, 이후로는 <strong>f(key) + n*g(key)</strong> 형태로 계속해서 슬롯을 찾아나간다.</li>
    </ul>
  </li>
</ul>

<h5 id="quadratic-probing--double-hashing-성능평가">quadratic probing &amp; double hashing 성능평가</h5>

<ul>
  <li>
    <p>linear probing 복기 -&gt; set, remove, search : cluster size에 의 해 영향.</p>

    <ul>
      <li>cluster 형성이유 ?</li>
    </ul>

    <ol>
      <li>hash function</li>
      <li>collision resolution method</li>
      <li>load factor: n/m -&gt; m: hash table 사이즈 (slot 갯수) , n: hash table에 저장된 item 갯수.
        <ul>
          <li>set, remove, search 등 함수에 대해 그래프를 그려 비교할 수 있음.
<img src="../Data_structure/images/graph.jpg" height="40%" width="40%" /></li>
          <li>또는, 함수를 돌면서 발생한 collision횟수를 저장된 slot의 개수인 n으로 나누어 충돌 비율 비교를 통해 hash function에 대한 성능평가를 진행.</li>
        </ul>
      </li>
    </ol>
  </li>
  <li>
    <p><strong>m&gt;=2n</strong>, 즉 최소 50%이상 빈 슬롯을 유지한다면 cluster의 사이즈가 O(1)로 형성된다. -&gt; set, remove, search를 O(1)에 사용할 수 있게된다는 의미임.</p>
  </li>
</ul>

<h4 id="충돌-회피-방법---chaining">충돌 회피 방법 - chaining</h4>

<ul>
  <li>각 슬롯에 꼭 하나의 데이터만 저장해야하는가? NO!</li>
  <li>슬롯에 <strong>한방향 연결리스트를 생성</strong>하여 데이터를 계속해서 저장. (양방향도 상관X)</li>
  <li>hash의 set함수 호출 -&gt; 해당 연결리스트에 pushFront를 통해 슬롯에 데이터를 새롭게 저장하게 되는것. <strong>O(1)</strong></li>
  <li>search 함수 -&gt; 해당 슬롯에 충돌된 key의 평균 개수 <strong>O(충돌 key의 평균 개수)</strong> -&gt; 연결리스트의 길이</li>
  <li>remove 함수 -&gt; search와 동일 (search해야하기 때문)
-&gt; hash function을 <strong>c-universal</strong>로 작성했을 때, 슬롯 내의 연결리스트 평균 개수의 길이가 O(1).</li>
</ul>

<h3 id="최종-정리">최종 정리</h3>

<ul>
  <li>빈 슬롯이 충분하다고 가정하였을 때, set, remove, search 등의 함수를 O(1)시간에 사용할 수 있음.</li>
</ul>
</section>
</main>


    <script src="https://use.fontawesome.com/releases/v5.15.3/js/all.js"></script>
    <!-- JavaScript Bundle with Popper -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script src="assets/js/sidebar-click-event.js"></script>
    <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
  </body>
</html>
